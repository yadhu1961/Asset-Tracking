<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Project ASTRA: project.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project ASTRA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">project.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;contiki.h&quot;</code><br />
<code>#include &quot;net/rime/rime.h&quot;</code><br />
<code>#include &quot;net/netstack.h&quot;</code><br />
<code>#include &quot;dev/leds.h&quot;</code><br />
<code>#include &quot;core/net/linkaddr.h&quot;</code><br />
<code>#include &quot;core/net/packetbuf.h&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;platform/zoul/dev/button-sensor.h&quot;</code><br />
<code>#include &quot;dev/serial-line.h&quot;</code><br />
<code>#include &quot;<a class="el" href="routing__table_8h_source.html">routing_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="broadcast__custom_8h_source.html">broadcast_custom.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unicast__custom_8h_source.html">unicast_custom.h</a>&quot;</code><br />
<code>#include &quot;lib/random.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80d9b9d04ad1a1e9e23dde46909d8065"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a80d9b9d04ad1a1e9e23dde46909d8065">PROCESS</a> (<a class="el" href="project_8c.html#a487791a00cab178dcbaeda4db7cdbd20">main_process</a>,&quot;Main Process&quot;)</td></tr>
<tr class="separator:a80d9b9d04ad1a1e9e23dde46909d8065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9d268d354679f5781a530a621e8d5ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#ac9d268d354679f5781a530a621e8d5ac">PROCESS</a> (broadcast_process,&quot;Broadcast Process&quot;)</td></tr>
<tr class="separator:ac9d268d354679f5781a530a621e8d5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15be842dc8f4b32f956f027aa2df50c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a15be842dc8f4b32f956f027aa2df50c4">PROCESS</a> (route_share_process,&quot;Routing table sharing&quot;)</td></tr>
<tr class="separator:a15be842dc8f4b32f956f027aa2df50c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176d7151e1fc332ec063913c7d9580a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a176d7151e1fc332ec063913c7d9580a3">PROCESS</a> (qt_table_share_process,&quot;Process table share UI&quot;)</td></tr>
<tr class="separator:a176d7151e1fc332ec063913c7d9580a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7308d0506d8eb29710d405fc175c2561"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a7308d0506d8eb29710d405fc175c2561">PROCESS_THREAD</a> (broadcast_process, ev, data)</td></tr>
<tr class="separator:a7308d0506d8eb29710d405fc175c2561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a5df37a4f961161ea7466ac246c967"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#ae9a5df37a4f961161ea7466ac246c967">PROCESS_THREAD</a> (<a class="el" href="project_8c.html#a487791a00cab178dcbaeda4db7cdbd20">main_process</a>, ev, data)</td></tr>
<tr class="separator:ae9a5df37a4f961161ea7466ac246c967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f251119980efe5db3b4b50af79a438"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#ae0f251119980efe5db3b4b50af79a438">PROCESS_THREAD</a> (route_share_process, ev, data)</td></tr>
<tr class="separator:ae0f251119980efe5db3b4b50af79a438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e69bfb92f48f5ce4b3d908bd83085a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a4e69bfb92f48f5ce4b3d908bd83085a9">PROCESS_THREAD</a> (qt_table_share_process, ev, data)</td></tr>
<tr class="separator:a4e69bfb92f48f5ce4b3d908bd83085a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aea1a218dd0a10d7769dd2cb6e5f3bd6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#aea1a218dd0a10d7769dd2cb6e5f3bd6e">broadcast_count</a> = 0</td></tr>
<tr class="separator:aea1a218dd0a10d7769dd2cb6e5f3bd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b24f36982885e9599cfcb32401b948"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#af6b24f36982885e9599cfcb32401b948">rebroadcast_count</a> = 0</td></tr>
<tr class="separator:af6b24f36982885e9599cfcb32401b948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6011e98f1c246278dbd45a301a2b8bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#af6011e98f1c246278dbd45a301a2b8bc">gBatteryVoltage</a> =3200</td></tr>
<tr class="separator:af6011e98f1c246278dbd45a301a2b8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b908f6ebb22df37e5c1758276e428a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a9b908f6ebb22df37e5c1758276e428a9">gBatteryVoltage_emulated</a> =3200</td></tr>
<tr class="separator:a9b908f6ebb22df37e5c1758276e428a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eb8faf3a079ff3abbad3597098c59f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#ae6eb8faf3a079ff3abbad3597098c59f">gBroadcast_ended</a> =false</td></tr>
<tr class="separator:ae6eb8faf3a079ff3abbad3597098c59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fec9907fbecc35d1782a240b22134c"><td class="memItemLeft" align="right" valign="top">const linkaddr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a15fec9907fbecc35d1782a240b22134c">asset1_addr</a> ={{0x8e,0xf5}}</td></tr>
<tr class="separator:a15fec9907fbecc35d1782a240b22134c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a88543d4d319e8f91bc9b640f571b9b"><td class="memItemLeft" align="right" valign="top">const linkaddr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a6a88543d4d319e8f91bc9b640f571b9b">asset2_addr</a> ={{0x90,0x58}}</td></tr>
<tr class="separator:a6a88543d4d319e8f91bc9b640f571b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18f987858d62196ba752ed9aa8edc96"><td class="memItemLeft" align="right" valign="top">struct unicast_conn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#aa18f987858d62196ba752ed9aa8edc96">unicastConn</a></td></tr>
<tr class="separator:aa18f987858d62196ba752ed9aa8edc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487791a00cab178dcbaeda4db7cdbd20"><td class="memItemLeft" align="right" valign="top">AUTOSTART_PROCESSES &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="project_8c.html#a487791a00cab178dcbaeda4db7cdbd20">main_process</a></td></tr>
<tr class="separator:a487791a00cab178dcbaeda4db7cdbd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a80d9b9d04ad1a1e9e23dde46909d8065"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="project_8c.html#a487791a00cab178dcbaeda4db7cdbd20">main_process</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Main Process&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac9d268d354679f5781a530a621e8d5ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS </td>
          <td>(</td>
          <td class="paramtype">broadcast_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Broadcast Process&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a15be842dc8f4b32f956f027aa2df50c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS </td>
          <td>(</td>
          <td class="paramtype">route_share_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Routing table sharing&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a176d7151e1fc332ec063913c7d9580a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS </td>
          <td>(</td>
          <td class="paramtype">qt_table_share_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Process table share UI&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7308d0506d8eb29710d405fc175c2561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_THREAD </td>
          <td>(</td>
          <td class="paramtype">broadcast_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Broadcast process for initial neighbor discovery. </p>

</div>
</div>
<a class="anchor" id="ae9a5df37a4f961161ea7466ac246c967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_THREAD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="project_8c.html#a487791a00cab178dcbaeda4db7cdbd20">main_process</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This process is responsible for starting the broadcast process when list becomes empty and for sharing the battery level when the button is pressed. </p>
<p>NOTE: Contiki processes cannot start loops that never end. In order to stay safe, we need to wait for an event in here. When a Contiki process waits for events, it returns control to the Contiki kernel. The Contiki kernel will service other processes while this process is waiting.</p>

</div>
</div>
<a class="anchor" id="ae0f251119980efe5db3b4b50af79a438"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_THREAD </td>
          <td>(</td>
          <td class="paramtype">route_share_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>process periodically shares the routing information to the neighbors same packet is also used for knowing whether the neighbors are alive or not. </p>

</div>
</div>
<a class="anchor" id="a4e69bfb92f48f5ce4b3d908bd83085a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_THREAD </td>
          <td>(</td>
          <td class="paramtype">qt_table_share_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This process responsible for periodically sharing the routing table to the gateway node so that routing table can shown in the UI. in the production code This functionality if not mandatory because the gateway doesn't have to know the complete network. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a15fec9907fbecc35d1782a240b22134c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const linkaddr_t asset1_addr ={{0x8e,0xf5}}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6a88543d4d319e8f91bc9b640f571b9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const linkaddr_t asset2_addr ={{0x90,0x58}}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aea1a218dd0a10d7769dd2cb6e5f3bd6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int broadcast_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af6011e98f1c246278dbd45a301a2b8bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gBatteryVoltage =3200</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9b908f6ebb22df37e5c1758276e428a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gBatteryVoltage_emulated =3200</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae6eb8faf3a079ff3abbad3597098c59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gBroadcast_ended =false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a487791a00cab178dcbaeda4db7cdbd20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AUTOSTART_PROCESSES&amp; main_process</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af6b24f36982885e9599cfcb32401b948"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rebroadcast_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa18f987858d62196ba752ed9aa8edc96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct unicast_conn unicastConn</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates an instance of a unicast connection. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
