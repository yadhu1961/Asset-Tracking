\hypertarget{project_8c}{}\section{project.\+c File Reference}
\label{project_8c}\index{project.\+c@{project.\+c}}
{\ttfamily \#include \char`\"{}contiki.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}net/rime/rime.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}net/netstack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dev/leds.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}core/net/linkaddr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}core/net/packetbuf.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}platform/zoul/dev/button-\/sensor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dev/serial-\/line.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}routing\+\_\+table.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}broadcast\+\_\+custom.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}unicast\+\_\+custom.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lib/random.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{project_8c_a80d9b9d04ad1a1e9e23dde46909d8065}{P\+R\+O\+C\+E\+SS} (\hyperlink{project_8c_a487791a00cab178dcbaeda4db7cdbd20}{main\+\_\+process},\char`\"{}Main Process\char`\"{})
\item 
\hyperlink{project_8c_ac9d268d354679f5781a530a621e8d5ac}{P\+R\+O\+C\+E\+SS} (broadcast\+\_\+process,\char`\"{}Broadcast Process\char`\"{})
\item 
\hyperlink{project_8c_a15be842dc8f4b32f956f027aa2df50c4}{P\+R\+O\+C\+E\+SS} (route\+\_\+share\+\_\+process,\char`\"{}Routing table sharing\char`\"{})
\item 
\hyperlink{project_8c_a176d7151e1fc332ec063913c7d9580a3}{P\+R\+O\+C\+E\+SS} (qt\+\_\+table\+\_\+share\+\_\+process,\char`\"{}Process table share UI\char`\"{})
\item 
\hyperlink{project_8c_a7308d0506d8eb29710d405fc175c2561}{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD} (broadcast\+\_\+process, ev, data)
\item 
\hyperlink{project_8c_ae9a5df37a4f961161ea7466ac246c967}{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD} (\hyperlink{project_8c_a487791a00cab178dcbaeda4db7cdbd20}{main\+\_\+process}, ev, data)
\item 
\hyperlink{project_8c_ae0f251119980efe5db3b4b50af79a438}{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD} (route\+\_\+share\+\_\+process, ev, data)
\item 
\hyperlink{project_8c_a4e69bfb92f48f5ce4b3d908bd83085a9}{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD} (qt\+\_\+table\+\_\+share\+\_\+process, ev, data)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{project_8c_aea1a218dd0a10d7769dd2cb6e5f3bd6e}{broadcast\+\_\+count} = 0
\item 
int \hyperlink{project_8c_af6b24f36982885e9599cfcb32401b948}{rebroadcast\+\_\+count} = 0
\item 
int \hyperlink{project_8c_af6011e98f1c246278dbd45a301a2b8bc}{g\+Battery\+Voltage} =3200
\item 
int \hyperlink{project_8c_a9b908f6ebb22df37e5c1758276e428a9}{g\+Battery\+Voltage\+\_\+emulated} =3200
\item 
bool \hyperlink{project_8c_ae6eb8faf3a079ff3abbad3597098c59f}{g\+Broadcast\+\_\+ended} =false
\item 
const linkaddr\+\_\+t \hyperlink{project_8c_a15fec9907fbecc35d1782a240b22134c}{asset1\+\_\+addr} =\{\{0x8e,0xf5\}\}
\item 
const linkaddr\+\_\+t \hyperlink{project_8c_a6a88543d4d319e8f91bc9b640f571b9b}{asset2\+\_\+addr} =\{\{0x90,0x58\}\}
\item 
struct unicast\+\_\+conn \hyperlink{project_8c_aa18f987858d62196ba752ed9aa8edc96}{unicast\+Conn}
\item 
A\+U\+T\+O\+S\+T\+A\+R\+T\+\_\+\+P\+R\+O\+C\+E\+S\+S\+ES \& \hyperlink{project_8c_a487791a00cab178dcbaeda4db7cdbd20}{main\+\_\+process}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}}
\index{P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S(main\+\_\+process,""Main Process"")}{PROCESS(main_process,"Main Process")}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+SS (
\begin{DoxyParamCaption}
\item[{{\bf main\+\_\+process}}]{, }
\item[{\char`\"{}Main Process\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_a80d9b9d04ad1a1e9e23dde46909d8065}{}\label{project_8c_a80d9b9d04ad1a1e9e23dde46909d8065}
\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}}
\index{P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S(broadcast\+\_\+process,""Broadcast Process"")}{PROCESS(broadcast_process,"Broadcast Process")}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+SS (
\begin{DoxyParamCaption}
\item[{broadcast\+\_\+process}]{, }
\item[{\char`\"{}Broadcast Process\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_ac9d268d354679f5781a530a621e8d5ac}{}\label{project_8c_ac9d268d354679f5781a530a621e8d5ac}
\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}}
\index{P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S(route\+\_\+share\+\_\+process,""Routing table sharing"")}{PROCESS(route_share_process,"Routing table sharing")}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+SS (
\begin{DoxyParamCaption}
\item[{route\+\_\+share\+\_\+process}]{, }
\item[{\char`\"{}Routing table sharing\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_a15be842dc8f4b32f956f027aa2df50c4}{}\label{project_8c_a15be842dc8f4b32f956f027aa2df50c4}
\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}}
\index{P\+R\+O\+C\+E\+SS@{P\+R\+O\+C\+E\+SS}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S(qt\+\_\+table\+\_\+share\+\_\+process,""Process table share UI"")}{PROCESS(qt_table_share_process,"Process table share UI")}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+SS (
\begin{DoxyParamCaption}
\item[{qt\+\_\+table\+\_\+share\+\_\+process}]{, }
\item[{\char`\"{}Process table share UI\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_a176d7151e1fc332ec063913c7d9580a3}{}\label{project_8c_a176d7151e1fc332ec063913c7d9580a3}
\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}}
\index{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+A\+D(broadcast\+\_\+process, ev, data)}{PROCESS_THREAD(broadcast_process, ev, data)}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD (
\begin{DoxyParamCaption}
\item[{broadcast\+\_\+process}]{, }
\item[{ev}]{, }
\item[{data}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_a7308d0506d8eb29710d405fc175c2561}{}\label{project_8c_a7308d0506d8eb29710d405fc175c2561}
Broadcast process for initial neighbor discovery. \index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}}
\index{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+A\+D(main\+\_\+process, ev, data)}{PROCESS_THREAD(main_process, ev, data)}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD (
\begin{DoxyParamCaption}
\item[{{\bf main\+\_\+process}}]{, }
\item[{ev}]{, }
\item[{data}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_ae9a5df37a4f961161ea7466ac246c967}{}\label{project_8c_ae9a5df37a4f961161ea7466ac246c967}
This process is responsible for starting the broadcast process when list becomes empty and for sharing the battery level when the button is pressed. N\+O\+TE\+: Contiki processes cannot start loops that never end. In order to stay safe, we need to wait for an event in here. When a Contiki process waits for events, it returns control to the Contiki kernel. The Contiki kernel will service other processes while this process is waiting.\index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}}
\index{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+A\+D(route\+\_\+share\+\_\+process, ev, data)}{PROCESS_THREAD(route_share_process, ev, data)}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD (
\begin{DoxyParamCaption}
\item[{route\+\_\+share\+\_\+process}]{, }
\item[{ev}]{, }
\item[{data}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_ae0f251119980efe5db3b4b50af79a438}{}\label{project_8c_ae0f251119980efe5db3b4b50af79a438}
process periodically shares the routing information to the neighbors same packet is also used for knowing whether the neighbors are alive or not. \index{project.\+c@{project.\+c}!P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}}
\index{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD@{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+A\+D(qt\+\_\+table\+\_\+share\+\_\+process, ev, data)}{PROCESS_THREAD(qt_table_share_process, ev, data)}}]{\setlength{\rightskip}{0pt plus 5cm}P\+R\+O\+C\+E\+S\+S\+\_\+\+T\+H\+R\+E\+AD (
\begin{DoxyParamCaption}
\item[{qt\+\_\+table\+\_\+share\+\_\+process}]{, }
\item[{ev}]{, }
\item[{data}]{}
\end{DoxyParamCaption}
)}\hypertarget{project_8c_a4e69bfb92f48f5ce4b3d908bd83085a9}{}\label{project_8c_a4e69bfb92f48f5ce4b3d908bd83085a9}
This process responsible for periodically sharing the routing table to the gateway node so that routing table can shown in the UI. in the production code This functionality if not mandatory because the gateway doesn\textquotesingle{}t have to know the complete network. 

\subsection{Variable Documentation}
\index{project.\+c@{project.\+c}!asset1\+\_\+addr@{asset1\+\_\+addr}}
\index{asset1\+\_\+addr@{asset1\+\_\+addr}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{asset1\+\_\+addr}{asset1_addr}}]{\setlength{\rightskip}{0pt plus 5cm}const linkaddr\+\_\+t asset1\+\_\+addr =\{\{0x8e,0xf5\}\}}\hypertarget{project_8c_a15fec9907fbecc35d1782a240b22134c}{}\label{project_8c_a15fec9907fbecc35d1782a240b22134c}
\index{project.\+c@{project.\+c}!asset2\+\_\+addr@{asset2\+\_\+addr}}
\index{asset2\+\_\+addr@{asset2\+\_\+addr}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{asset2\+\_\+addr}{asset2_addr}}]{\setlength{\rightskip}{0pt plus 5cm}const linkaddr\+\_\+t asset2\+\_\+addr =\{\{0x90,0x58\}\}}\hypertarget{project_8c_a6a88543d4d319e8f91bc9b640f571b9b}{}\label{project_8c_a6a88543d4d319e8f91bc9b640f571b9b}
\index{project.\+c@{project.\+c}!broadcast\+\_\+count@{broadcast\+\_\+count}}
\index{broadcast\+\_\+count@{broadcast\+\_\+count}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{broadcast\+\_\+count}{broadcast_count}}]{\setlength{\rightskip}{0pt plus 5cm}int broadcast\+\_\+count = 0}\hypertarget{project_8c_aea1a218dd0a10d7769dd2cb6e5f3bd6e}{}\label{project_8c_aea1a218dd0a10d7769dd2cb6e5f3bd6e}
\index{project.\+c@{project.\+c}!g\+Battery\+Voltage@{g\+Battery\+Voltage}}
\index{g\+Battery\+Voltage@{g\+Battery\+Voltage}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{g\+Battery\+Voltage}{gBatteryVoltage}}]{\setlength{\rightskip}{0pt plus 5cm}int g\+Battery\+Voltage =3200}\hypertarget{project_8c_af6011e98f1c246278dbd45a301a2b8bc}{}\label{project_8c_af6011e98f1c246278dbd45a301a2b8bc}
\index{project.\+c@{project.\+c}!g\+Battery\+Voltage\+\_\+emulated@{g\+Battery\+Voltage\+\_\+emulated}}
\index{g\+Battery\+Voltage\+\_\+emulated@{g\+Battery\+Voltage\+\_\+emulated}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{g\+Battery\+Voltage\+\_\+emulated}{gBatteryVoltage_emulated}}]{\setlength{\rightskip}{0pt plus 5cm}int g\+Battery\+Voltage\+\_\+emulated =3200}\hypertarget{project_8c_a9b908f6ebb22df37e5c1758276e428a9}{}\label{project_8c_a9b908f6ebb22df37e5c1758276e428a9}
\index{project.\+c@{project.\+c}!g\+Broadcast\+\_\+ended@{g\+Broadcast\+\_\+ended}}
\index{g\+Broadcast\+\_\+ended@{g\+Broadcast\+\_\+ended}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{g\+Broadcast\+\_\+ended}{gBroadcast_ended}}]{\setlength{\rightskip}{0pt plus 5cm}bool g\+Broadcast\+\_\+ended =false}\hypertarget{project_8c_ae6eb8faf3a079ff3abbad3597098c59f}{}\label{project_8c_ae6eb8faf3a079ff3abbad3597098c59f}
\index{project.\+c@{project.\+c}!main\+\_\+process@{main\+\_\+process}}
\index{main\+\_\+process@{main\+\_\+process}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{main\+\_\+process}{main_process}}]{\setlength{\rightskip}{0pt plus 5cm}A\+U\+T\+O\+S\+T\+A\+R\+T\+\_\+\+P\+R\+O\+C\+E\+S\+S\+ES\& main\+\_\+process}\hypertarget{project_8c_a487791a00cab178dcbaeda4db7cdbd20}{}\label{project_8c_a487791a00cab178dcbaeda4db7cdbd20}
\index{project.\+c@{project.\+c}!rebroadcast\+\_\+count@{rebroadcast\+\_\+count}}
\index{rebroadcast\+\_\+count@{rebroadcast\+\_\+count}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{rebroadcast\+\_\+count}{rebroadcast_count}}]{\setlength{\rightskip}{0pt plus 5cm}int rebroadcast\+\_\+count = 0}\hypertarget{project_8c_af6b24f36982885e9599cfcb32401b948}{}\label{project_8c_af6b24f36982885e9599cfcb32401b948}
\index{project.\+c@{project.\+c}!unicast\+Conn@{unicast\+Conn}}
\index{unicast\+Conn@{unicast\+Conn}!project.\+c@{project.\+c}}
\subsubsection[{\texorpdfstring{unicast\+Conn}{unicastConn}}]{\setlength{\rightskip}{0pt plus 5cm}struct unicast\+\_\+conn unicast\+Conn}\hypertarget{project_8c_aa18f987858d62196ba752ed9aa8edc96}{}\label{project_8c_aa18f987858d62196ba752ed9aa8edc96}
Creates an instance of a unicast connection. 